function PhotoFit(){this.photoListGroup=$(".photos-list-group")}PhotoFit.prototype.listenLoadAllDataEvent=function(){var l=this;antajax.get({url:"/photo/list/",success:function(t){if(200===t.code)for(var o=t.data,e=0;e<o.length;e++){var n=o[e],a=template("photos-item",{photo:n});l.photoListGroup.append(a);var i=l.photoListGroup.find(".photos-item:last"),s=l.photoListGroup.find(".data-item:last");l.listenAddImageEvent(i),l.listenCloseBtnEvent(i),l.listenSavePhotoBtnEvent(i),l.listenExtractDataEvent(i),l.listenDisplayPersonModelEvent(i),l.listenRemoveModelEvent(i),l.listenLoadAllModelEvent(s)}}})},PhotoFit.prototype.listenAddBannerUpEvent=function(){var t=this;$("#add-photo-btn").click(function(){6<=t.photoListGroup.children().length?window.messageBox.showInfo("只能添加6张图片哦~~"):t.createPhotoBtnEvent()})},PhotoFit.prototype.createPhotoBtnEvent=function(){var t=this,o=template("photos-item");t.photoListGroup.prepend(o);var e=t.photoListGroup.find(".photos-item:first"),n=t.photoListGroup.find(".data-item:last");t.listenAddImageEvent(e),t.listenCloseBtnEvent(e),t.listenSavePhotoBtnEvent(e),t.listenExtractDataEvent(e),t.listenDisplayPersonModelEvent(e),t.listenRemoveModelEvent(e),t.listenLoadAllModelEvent(n)},PhotoFit.prototype.listenAddImageEvent=function(t){var e=t.find(".thumbnail"),o=t.find(".image-input");e.click(function(){o.click()}),o.change(function(){var t=this.files[0],o=new FormData;o.append("file",t),antajax.post({url:"/upload/file/",data:o,processData:!1,contentType:!1,success:function(t){if(200===t.code){var o=t.data.url;e.attr("src",o)}}})})},PhotoFit.prototype.listenCloseBtnEvent=function(o){o.find(".close-btn").click(function(){var t=o.attr("data-photo-id");t?antalert.alertConfirm({text:"您确定要删除该照片吗？无法撤销哦！~~~",confirmCallback:function(){antajax.post({url:"/del/photo/",data:{photo_id:t},success:function(t){o.remove(),window.messageBox.showSuccess(t.message)}})}}):o.remove()})},PhotoFit.prototype.listenSavePhotoBtnEvent=function(t){var o=t.find(".save-btn"),e=t.find(".thumbnail");o.click(function(){var t=e.attr("src");antajax.post({url:"/save/photo/",data:{img_url:t},success:function(t){200===t.code?window.messageBox.showSuccess("图片保存成功！"):(console.log(t.code),console.log(t.message))},fail:function(t){console.log(t.message)}})})},PhotoFit.prototype.listenAddBannerEvent=function(){var t=this;$("#add-photo-btn").click(function(){t.createPhotoBtnEvent()})},PhotoFit.prototype.listenExtractDataEvent=function(o){o.find(".extract-data-btn").click(function(){var t=o.find(".thumbnail").attr("src");antajax.post({url:"/extract/data/",data:{img_url:t},success:function(t){200===t.code&&window.messageBox.showSuccess(t.message)}})})},PhotoFit.prototype.listenDisplayPersonModelEvent=function(t){var n=t.find(".data-item").find(".modelThumbnail");t.find(".extract-data-btn").click(function(){antajax.get({url:"/model/serialize/",success:function(t){if(200===t.code)for(var o=t.data,e=0;e<o.length;e++)url=t.data.model_url,console.log(t.data),console.log(url),console.log(t.data.id),n.attr("src",url)}})})},PhotoFit.prototype.listenRemoveModelEvent=function(o){o.find(".close-model-btn").click(function(){var t=o.attr("data-model-id");console.log(t),t&&antalert.alertConfirm({text:"您确定要删除该模型吗？无法撤销哦！~~~",confirmCallback:function(){antajax.post({url:"/del/model/",data:{model_id:t},success:function(t){o.find(".data-item").remove(),window.messageBox.showSuccess(t.message)}})}})})},PhotoFit.prototype.listenLoadAllModelEvent=function(t){var a=t.find(".modelThumbnail");antajax.get({url:"/model/serialize/",success:function(t){if(200===t.code)for(var o=t.data,e=0;e<o.length;e++){var n=t.data.model_url;a.attr("src",n)}}})},PhotoFit.prototype.run=function(){this.listenExtractDataEvent()},PhotoFit.prototype.run=function(){this.listenAddBannerEvent(),this.listenLoadAllDataEvent()},$(function(){(new PhotoFit).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBob3RvRml0LmpzIl0sIm5hbWVzIjpbIlBob3RvRml0IiwidGhpcyIsInBob3RvTGlzdEdyb3VwIiwiJCIsInByb3RvdHlwZSIsImxpc3RlbkxvYWRBbGxEYXRhRXZlbnQiLCJzZWxmIiwiYW50YWpheCIsImdldCIsInVybCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJwaG90b3MiLCJpIiwibGVuZ3RoIiwicGhvdG8iLCJ0cGwiLCJ0ZW1wbGF0ZSIsImFwcGVuZCIsInBob3RvSXRlbSIsImZpbmQiLCJkYXRhSXRlbSIsImxpc3RlbkFkZEltYWdlRXZlbnQiLCJsaXN0ZW5DbG9zZUJ0bkV2ZW50IiwibGlzdGVuU2F2ZVBob3RvQnRuRXZlbnQiLCJsaXN0ZW5FeHRyYWN0RGF0YUV2ZW50IiwibGlzdGVuRGlzcGxheVBlcnNvbk1vZGVsRXZlbnQiLCJsaXN0ZW5SZW1vdmVNb2RlbEV2ZW50IiwibGlzdGVuTG9hZEFsbE1vZGVsRXZlbnQiLCJsaXN0ZW5BZGRCYW5uZXJVcEV2ZW50IiwiY2xpY2siLCJjaGlsZHJlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsImNyZWF0ZVBob3RvQnRuRXZlbnQiLCJwcmVwZW5kIiwidGh1bWJuYWlsIiwiaW1hZ2VJbnB1dCIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJwb3N0IiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJhdHRyIiwicGhvdG9JZCIsImFudGFsZXJ0IiwiYWxlcnRDb25maXJtIiwidGV4dCIsImNvbmZpcm1DYWxsYmFjayIsInBob3RvX2lkIiwicmVtb3ZlIiwic2hvd1N1Y2Nlc3MiLCJzYXZlQnRuIiwidGh1bWJuYWlsVGFnIiwiaW1nX3VybCIsImNvbnNvbGUiLCJsb2ciLCJmYWlsIiwiZXJyb3IiLCJsaXN0ZW5BZGRCYW5uZXJFdmVudCIsIm1vZGVUaHVtYm5haWxUYWciLCJtb2RlbHMiLCJtb2RlbElkIiwibW9kZWxfaWQiLCJy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dkMsV0FTckRULFNBQVNJLFVBQVV1Qix1QkFBeUIsU0FBVVIsR0FFOUJBLEVBQVVDLEtBQUssb0JBRXJCVSxNQUFNLFdBQ2hCLElBQUlxQyxFQUFVaEQsRUFBVTZCLEtBQUssaUJBQzdCWSxRQUFRQyxJQUFJTSxHQUVSQSxHQUNBakIsU0FBU0MsYUFBYSxDQUN0QkMsS0FBUSx1QkFDUkMsZ0JBQW1CLFdBQ2Y5QyxRQUFRcUMsS0FBSyxDQUNUbkMsSUFBTyxjQUNQb0MsS0FBUSxDQUNKdUIsU0FBWUQsR0FFaEJ6RCxRQUFXLFNBQVVDLEdBQ0ZRLEVBQVVDLEtBQUssY0FDckJtQyxTQUNUdkIsT0FBT0MsV0FBV3VCLFlBQVk3QyxFQUFnQixrQkFVdEVYLFNBQVNJLFVBQVV3Qix3QkFBMEIsU0FBVVAsR0FDbkQsSUFFSWdCLEVBQVloQixFQUFTRCxLQUFLLG1CQUU5QmIsUUFBUUMsSUFBSSxDQUNSQyxJQUFPLG9CQUNQQyxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBRWIsSUFEQSxJQUFJdUQsRUFBU3ZELEVBQWEsS0FDakJFLEVBQUksRUFBR0EsRUFBSXFELEVBQU9wRCxPQUFRRCxJQUFLLENBQ3BDLElBQUlKLEVBQU1FLEVBQWEsS0FBYSxVQUNwQzBCLEVBQVVXLEtBQUssTUFBT3ZDLFFBTzFDVCxTQUFTSSxVQUFVaUUsSUFBTSxXQUNyQnBFLEtBQUt3QiwwQkFHVHpCLFNBQVNJLFVBQVVpRSxJQUFNLFdBQ3JCcEUsS0FBSytELHVCQUNML0QsS0FBS0ksMEJBR1RGLEVBQUUsWUFDYyxJQUFJSCxVQUNWcUUiLCJmaWxlIjoicGhvdG9GaXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5re75Yqg54Wn54mHXHJcbmZ1bmN0aW9uIFBob3RvRml0KCkge1xyXG4gICAgdGhpcy5waG90b0xpc3RHcm91cCA9ICQoXCIucGhvdG9zLWxpc3QtZ3JvdXBcIik7XHJcbn1cclxuXHJcbi8vIOWKoOi9veaJgOaciXBob3Rv5LqL5Lu2XHJcblBob3RvRml0LnByb3RvdHlwZS5saXN0ZW5Mb2FkQWxsRGF0YUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgYW50YWpheC5nZXQoe1xyXG4gICAgICAgICd1cmwnOiAnL3Bob3RvL2xpc3QvJyxcclxuICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBwaG90b3MgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGhvdG9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBob3RvID0gcGhvdG9zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgncGhvdG9zLWl0ZW0nLCB7J3Bob3RvJzogcGhvdG99KTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBob3RvTGlzdEdyb3VwLmFwcGVuZCh0cGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDkuLrmlrDmt7vliqDnmoRwaG90b+a3u+WKoOWFs+mXreOAgeS/neWtmOS6i+S7tlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwaG90b0l0ZW0gPSBzZWxmLnBob3RvTGlzdEdyb3VwLmZpbmQoXCIucGhvdG9zLWl0ZW06bGFzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUl0ZW0gPSBzZWxmLnBob3RvTGlzdEdyb3VwLmZpbmQoXCIuZGF0YS1pdGVtOmxhc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5saXN0ZW5BZGRJbWFnZUV2ZW50KHBob3RvSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5saXN0ZW5DbG9zZUJ0bkV2ZW50KHBob3RvSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5saXN0ZW5TYXZlUGhvdG9CdG5FdmVudChwaG90b0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGlzdGVuRXh0cmFjdERhdGFFdmVudChwaG90b0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGlzdGVuRGlzcGxheVBlcnNvbk1vZGVsRXZlbnQocGhvdG9JdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxpc3RlblJlbW92ZU1vZGVsRXZlbnQocGhvdG9JdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxpc3RlbkxvYWRBbGxNb2RlbEV2ZW50KGRhdGFJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8g6ZmQ5Yi25Y+q6IO95LiK5LygNuW8oOi9ruaSreWbvuS6i+S7tlxyXG5QaG90b0ZpdC5wcm90b3R5cGUubGlzdGVuQWRkQmFubmVyVXBFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhZGRCdG4gPSAkKFwiI2FkZC1waG90by1idG5cIik7XHJcbiAgICBhZGRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwaG90b0xlbmd0aCA9IHNlbGYucGhvdG9MaXN0R3JvdXAuY2hpbGRyZW4oKS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHBob3RvTGVuZ3RoID49IDYpIHtcclxuICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0luZm8oXCLlj6rog73mt7vliqA25byg5Zu+54mH5ZOmfn5cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5jcmVhdGVQaG90b0J0bkV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOWIm+W7uuWNoeeJh+eahOaMiemSruS6i+S7tlxyXG5QaG90b0ZpdC5wcm90b3R5cGUuY3JlYXRlUGhvdG9CdG5FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHRlbXBsYXRlKCnlh73mlbDov5Tlm57nmoTmmK/lrZfnrKbkuLLvvIzkuI3og73lpJ/lhbbmt7vliqDngrnlh7vkuovku7bvvIxcclxuICAgIC8vIOmcgOimgeWwhuWFtua3u+WKoOWkp+e9kemhteS4re+8jOaIkOS4uue9kemhteS4reeahOagh+etvlxyXG4gICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwicGhvdG9zLWl0ZW1cIik7XHJcbiAgICBzZWxmLnBob3RvTGlzdEdyb3VwLnByZXBlbmQodHBsKTtcclxuXHJcbiAgICAvLyDmt7vliqDngrnlh7vkuovku7blv4XpobvlnKjmt7vliqB0cGzliLDnvZHpobXkuK3kuYvlkI5cclxuICAgIHZhciBwaG90b0l0ZW0gPSBzZWxmLnBob3RvTGlzdEdyb3VwLmZpbmQoXCIucGhvdG9zLWl0ZW06Zmlyc3RcIik7XHJcbiAgICB2YXIgZGF0YUl0ZW0gPSBzZWxmLnBob3RvTGlzdEdyb3VwLmZpbmQoXCIuZGF0YS1pdGVtOmxhc3RcIik7XHJcblxyXG4gICAgc2VsZi5saXN0ZW5BZGRJbWFnZUV2ZW50KHBob3RvSXRlbSk7XHJcbiAgICBzZWxmLmxpc3RlbkNsb3NlQnRuRXZlbnQocGhvdG9JdGVtKTtcclxuICAgIHNlbGYubGlzdGVuU2F2ZVBob3RvQnRuRXZlbnQocGhvdG9JdGVtKTtcclxuICAgIHNlbGYubGlzdGVuRXh0cmFjdERhdGFFdmVudChwaG90b0l0ZW0pO1xyXG4gICAgc2VsZi5saXN0ZW5EaXNwbGF5UGVyc29uTW9kZWxFdmVudChwaG90b0l0ZW0pO1xyXG4gICAgc2VsZi5saXN0ZW5SZW1vdmVNb2RlbEV2ZW50KHBob3RvSXRlbSk7XHJcbiAgICBzZWxmLmxpc3RlbkxvYWRBbGxNb2RlbEV2ZW50KGRhdGFJdGVtKTtcclxufTtcclxuXHJcbi8vIOa3u+WKoOeCueWHu+a3u+WKoOWbvueJh+S6i+S7tizlsIblm77niYfkv53lrZjoh7PmnKzlnLDmnI3liqHlmahcclxuUGhvdG9GaXQucHJvdG90eXBlLmxpc3RlbkFkZEltYWdlRXZlbnQgPSBmdW5jdGlvbiAocGhvdG9JdGVtKSB7XHJcbiAgICB2YXIgdGh1bWJuYWlsID0gcGhvdG9JdGVtLmZpbmQoXCIudGh1bWJuYWlsXCIpO1xyXG4gICAgdmFyIGltYWdlSW5wdXQgPSBwaG90b0l0ZW0uZmluZChcIi5pbWFnZS1pbnB1dFwiKTtcclxuICAgIC8vIOS5n+WPr+S7pemAmui/h+S7peS4i+aWueW8j+eFp+W9k+W9k+WJjXRodW1ibmFpbOWQjOe6p+eahGltYWdlLWlucHV0XHJcbiAgICAvLyB2YXIgaW1hZ2VJbnB1dCA9IHRodW1ibmFpbC5zaWJsaW5ncyhcIi5pbWFnZS1pbnB1dFwiKTtcclxuXHJcbiAgICAvLyDkuLrlvZPliY3nmoTlm77niYfmt7vliqDngrnlh7vkuovku7ZcclxuICAgIHRodW1ibmFpbC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW1hZ2VJbnB1dC5jbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g5Li65b2T5YmN6YCJ5Lit55qE5Zu+54mH5re75Yqg5omT5byA5LqL5Lu277yM5Y2zY2hhbmdlKCnkuovku7ZcclxuICAgIGltYWdlSW5wdXQuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyDojrflj5blvZPliY3pgInkuK3nmoTmlofku7ZcclxuICAgICAgICAvLyB0aGlzLuS7o+ihqOW9k+WJjeeahGltYWdlLWlucHV0XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIC8vIOmAmui/h0Zvcm1EYXRhKCnlh73mlbDliJvlu7rkuIDkuKrnqbrnmoTlr7nosaHvvIzkuYvlkI7lsLHlj6/ku6XpgJrov4dhcHBlbmQoKSxzZXQoKSxnZXQoKeetieWvueivpeWvueixoei/m+ihjOa3u+WKoO+8jOiuvue9ru+8jOiOt+WPluaTjeS9nFxyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIC8vIOS4iuS8oOWIsOacrOWcsOacjeWKoeWZqOeahOaOpeWPo+aYr+mAmui/hydmaWxlJ1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XHJcbiAgICAgICAgYW50YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6IFwiL3VwbG9hZC9maWxlL1wiLFxyXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAncHJvY2Vzc0RhdGEnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbC5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4vLyDnm5HlkKzliKDpmaTljaHniYfnmoTlhbPpl63mjInpkq5cclxuUGhvdG9GaXQucHJvdG90eXBlLmxpc3RlbkNsb3NlQnRuRXZlbnQgPSBmdW5jdGlvbiAocGhvdG9JdGVtKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyB2YXIgY2xvc2VCdG4gPSAkKFwiLmNsb3NlLWJ0blwiKTtcclxuICAgIHZhciBjbG9zZUJ0biA9IHBob3RvSXRlbS5maW5kKFwiLmNsb3NlLWJ0blwiKTtcclxuXHJcbiAgICBjbG9zZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdmFyIHBob3RvSXRlbSA9ICQoXCIucGhvdG9zLWl0ZW1cIik7XHJcbiAgICAgICAgLy8gcGhvdG9JdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgIHZhciBwaG90b0lkID0gcGhvdG9JdGVtLmF0dHIoXCJkYXRhLXBob3RvLWlkXCIpO1xyXG5cclxuICAgICAgICBpZiAocGhvdG9JZCkge1xyXG4gICAgICAgICAgICBhbnRhbGVydC5hbGVydENvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgJ3RleHQnOiAn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l54Wn54mH5ZCX77yf5peg5rOV5pKk6ZSA5ZOm77yBfn5+JyxcclxuICAgICAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW50YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvZGVsL3Bob3RvLycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bob3RvX2lkJzogcGhvdG9JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b0l0ZW0ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2VzcyhyZXN1bHRbJ21lc3NhZ2UnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGhvdG9JdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8g55uR5ZCs5L+d5a2Y5Y2h54mH55qE5LqL5Lu2XHJcblBob3RvRml0LnByb3RvdHlwZS5saXN0ZW5TYXZlUGhvdG9CdG5FdmVudCA9IGZ1bmN0aW9uIChwaG90b0l0ZW0pIHtcclxuICAgIHZhciBzYXZlQnRuID0gcGhvdG9JdGVtLmZpbmQoXCIuc2F2ZS1idG5cIik7XHJcbiAgICB2YXIgdGh1bWJuYWlsVGFnID0gcGhvdG9JdGVtLmZpbmQoXCIudGh1bWJuYWlsXCIpO1xyXG4gICAgc2F2ZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8g6I635Y+WaW1n5Zu+54mH55qEc3Jj5bGe5oCn5a+55bqU55qE5YC877yM5Y+q6ZyA6KaB6LCD55SoYXR0cigp5Ye95pWw5bCx5Y+v5Lul5LqG77yM5bm25LiN6ZyA6KaB6LCD55SodmFsKClcclxuICAgICAgICB2YXIgaW1nX3VybCA9IHRodW1ibmFpbFRhZy5hdHRyKFwic3JjXCIpO1xyXG4gICAgICAgIGFudGFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL3NhdmUvcGhvdG8vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAnaW1nX3VybCc6IGltZ191cmwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2VzcyhcIuWbvueJh+S/neWtmOaIkOWKn++8gVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0Wydjb2RlJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yWydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5QaG90b0ZpdC5wcm90b3R5cGUubGlzdGVuQWRkQmFubmVyRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYWRkUGhvdG9CdG4gPSAkKFwiI2FkZC1waG90by1idG5cIik7XHJcbiAgICBhZGRQaG90b0J0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jcmVhdGVQaG90b0J0bkV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4vLyDmqKHlnovmnInlhbNcclxuLy8g55uR5ZCs5o+Q5Lqk5b2T5YmN54Wn54mH5LqL5Lu2XHJcblBob3RvRml0LnByb3RvdHlwZS5saXN0ZW5FeHRyYWN0RGF0YUV2ZW50ID0gZnVuY3Rpb24gKHBob3RvSXRlbSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGV4dHJhY3REYXRhQnRuID0gcGhvdG9JdGVtLmZpbmQoXCIuZXh0cmFjdC1kYXRhLWJ0blwiKTtcclxuXHJcbiAgICBleHRyYWN0RGF0YUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdmFyIHRwbCA9IHRlbXBsYXRlKFwiZGF0YS1pdGVtXCIpO1xyXG4gICAgICAgIC8vIHNlbGYuZGF0YUxpc3RHcm91cC5wcmVwZW5kKHRwbCk7XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbFRhZyA9IHBob3RvSXRlbS5maW5kKFwiLnRodW1ibmFpbFwiKTtcclxuXHJcbiAgICAgICAgLy8g6I635Y+WaW1n5Zu+54mH55qEc3Jj5bGe5oCn5a+55bqU55qE5YC877yM5Y+q6ZyA6KaB6LCD55SoYXR0cigp5Ye95pWw5bCx5Y+v5Lul5LqG77yM5bm25LiN6ZyA6KaB6LCD55SodmFsKClcclxuICAgICAgICB2YXIgaW1nX3VybCA9IHRodW1ibmFpbFRhZy5hdHRyKFwic3JjXCIpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbWdfdXJsKTtcclxuXHJcbiAgICAgICAgYW50YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvZXh0cmFjdC9kYXRhLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2ltZ191cmwnOiBpbWdfdXJsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn07XHJcblxyXG4vLyDlsIbnu4/ov4dPcGVuQ1blpITnkIbkv53lrZjoh7PmnKzlnLDmnI3liqHlmajnmoTnhafniYfmmL7npLrlnKjliY3nq69cclxuUGhvdG9GaXQucHJvdG90eXBlLmxpc3RlbkRpc3BsYXlQZXJzb25Nb2RlbEV2ZW50ID0gZnVuY3Rpb24gKHBob3RvSXRlbSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHZhciBkYXRhSXRlbSA9IHBob3RvSXRlbS5maW5kKFwiLmRhdGEtaXRlbVwiKTtcclxuICAgIHZhciBtb2RlVGh1bWJuYWlsVGFnID0gZGF0YUl0ZW0uZmluZChcIi5tb2RlbFRodW1ibmFpbFwiKTtcclxuICAgIHZhciBleHRyYWN0RGF0YUJ0biA9IHBob3RvSXRlbS5maW5kKFwiLmV4dHJhY3QtZGF0YS1idG5cIik7XHJcblxyXG4gICAgZXh0cmFjdERhdGFCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBhbnRhamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL21vZGVsL3NlcmlhbGl6ZS8nLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVscyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBtb2RlbCA9IG1vZGVsc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHRwbCA9IHRlbXBsYXRlKCdwaG90b3MtaXRlbScsIHsnbW9kZWwnOiBtb2RlbH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLnBob3RvTGlzdEdyb3VwLmFwcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSByZXN1bHRbJ2RhdGEnXVsnbW9kZWxfdXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdFsnZGF0YSddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0WydkYXRhJ11bJ2lkJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlVGh1bWJuYWlsVGFnLmF0dHIoJ3NyYycsIHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOWIoOmZpOaooeWei1xyXG5QaG90b0ZpdC5wcm90b3R5cGUubGlzdGVuUmVtb3ZlTW9kZWxFdmVudCA9IGZ1bmN0aW9uIChwaG90b0l0ZW0pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBtb2RlbENsb3NlQnRuID0gcGhvdG9JdGVtLmZpbmQoJy5jbG9zZS1tb2RlbC1idG4nKTtcclxuXHJcbiAgICBtb2RlbENsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbW9kZWxJZCA9IHBob3RvSXRlbS5hdHRyKFwiZGF0YS1tb2RlbC1pZFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhtb2RlbElkKTtcclxuXHJcbiAgICAgICAgaWYgKG1vZGVsSWQpIHtcclxuICAgICAgICAgICAgYW50YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgJ3RleHQnOiAn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l5qih5Z6L5ZCX77yf5peg5rOV5pKk6ZSA5ZOm77yBfn5+JyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGFudGFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvZGVsL21vZGVsLycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtb2RlbF9pZCc6IG1vZGVsSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFJdGVtID0gcGhvdG9JdGVtLmZpbmQoXCIuZGF0YS1pdGVtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyDliqDovb3miYDmnInnmoTmqKHlnotcclxuUGhvdG9GaXQucHJvdG90eXBlLmxpc3RlbkxvYWRBbGxNb2RlbEV2ZW50ID0gZnVuY3Rpb24gKGRhdGFJdGVtKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIHRodW1ibmFpbCA9IGRhdGFJdGVtLmZpbmQoXCIubW9kZWxUaHVtYm5haWxcIik7XHJcblxyXG4gICAgYW50YWpheC5nZXQoe1xyXG4gICAgICAgICd1cmwnOiAnL21vZGVsL3NlcmlhbGl6ZS8nLFxyXG4gICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVscyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2RlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ21vZGVsX3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbC5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5QaG90b0ZpdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5FeHRyYWN0RGF0YUV2ZW50KCk7XHJcbn07XHJcblxyXG5QaG90b0ZpdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5BZGRCYW5uZXJFdmVudCgpO1xyXG4gICAgdGhpcy5saXN0ZW5Mb2FkQWxsRGF0YUV2ZW50KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwaG90byA9IG5ldyBQaG90b0ZpdCgpO1xyXG4gICAgcGhvdG8ucnVuKCk7XHJcbn0pOyJdfQ==
